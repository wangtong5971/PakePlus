"use strict";(self["webpackChunkmedical_daping"]=self["webpackChunkmedical_daping"]||[]).push([[174],{2202:function(t,e,a){a.r(e),a.d(e,{default:function(){return Zt}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-screen"},[e("header"),e("div",{staticClass:"content"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"left-item"},[e("img",{staticClass:"module module1",attrs:{src:a(26053)}}),e("div",{staticClass:"chart-wrapper",staticStyle:{height:"250px"}},[e("chart1",{attrs:{xAxisData:t.dataCenter.runStateXData,seriesData:t.dataCenter.runStateYData}})],1)]),e("div",{staticClass:"left-item module2"},[e("img",{staticClass:"module module1",attrs:{src:a(90690)}}),e("div",{staticClass:"chart-wrapper",staticStyle:{height:"190px"}},[e("chart2",{attrs:{xAxisData:t.dataCenter.openRateXData,seriesData:t.dataCenter.openRateYData}})],1)]),e("div",{staticClass:"left-item module3"},[e("img",{staticClass:"module module1",attrs:{src:a(90156)}}),e("div",{staticClass:"chart-wrapper",staticStyle:{height:"170px"}},[e("chart3",{attrs:{xAxisData:t.dataCenter.runRateXData,seriesData:t.dataCenter.runRateYData}})],1)])]),e("device-layout",{staticClass:"device-layout",attrs:{"device-list":t.dataCenter.deviceState}})],1),e("div",{staticClass:"item2"},[e("img",{staticStyle:{height:"30px"},attrs:{src:a(47818)}}),e("div",{staticClass:"bottom-layout"},[e("div",{staticStyle:{width:"20%"}},[e("chart4",{attrs:{seriesData:t.dataCenter.pieData}})],1),e("div",{staticStyle:{width:"80%"}},[e("message-list",{attrs:{columns:t.orderColumns,data:t.dataCenter.orderList}})],1)])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"right-item item1"},[e("img",{staticClass:"module",attrs:{src:a(36331)}}),e("div",{staticClass:"status-layout"},[e("div",{staticClass:"status-item"},[e("img",{staticClass:"status-img",attrs:{src:a(40816)}}),e("div",{staticClass:"status-title"},[t._v("需要维修")]),e("div",{staticClass:"status-num"},[t._v(t._s(t.dataCenter.andonState.repair))])]),e("div",{staticClass:"status-item"},[e("img",{staticClass:"status-img",attrs:{src:a(50521)}}),e("div",{staticClass:"status-title"},[t._v("需要工量具")]),e("div",{staticClass:"status-num"},[t._v(t._s(t.dataCenter.andonState.measTool))])]),e("div",{staticClass:"status-item"},[e("img",{staticClass:"status-img",attrs:{src:a(50659)}}),e("div",{staticClass:"status-title"},[t._v("需要质检")]),e("div",{staticClass:"status-num"},[t._v(t._s(t.dataCenter.andonState.quality))])])])]),e("div",{staticClass:"right-item item2"},[e("img",{staticClass:"module",attrs:{src:a(99209)}}),e("message-list",{attrs:{columns:t.andonColumns,data:t.dataCenter.andonInfo}})],1),e("div",{staticClass:"right-item item3"},[e("img",{staticClass:"module",attrs:{src:a(96115)}}),e("div",{staticClass:"product-layout"},t._l(t.dataCenter.orderSummary,(function(a,i){return e("div",{key:i,staticClass:"product-item"},[e("div",{staticClass:"workshop-name"},[t._v(t._s(a.workshopName))]),e("div",{staticClass:"week"},[t._v("近一周：")]),e("div",{staticClass:"number-layout"},[e("div",{staticClass:"rela"},[t._v(" 同比："+t._s(a.week.rate)+"%"),e("span",[t._v(t._s(a.week.rate>=0?"↑":"↓"))])]),e("number-card",{attrs:{value:a.week.now,len:3}})],1),e("div",{staticClass:"month"},[t._v("近一月：")]),e("div",{staticClass:"number-layout"},[e("div",{staticClass:"rela"},[t._v(" 同比："+t._s(a.month.rate)+"%"),e("span",[t._v(t._s(a.month.rate>=0?"↑":"↓"))])]),e("number-card",{attrs:{value:a.month.now,len:3}})],1)])})),0)])])])])},s=[],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-layout"},[e("div",{ref:"canvas",staticClass:"canvas"}),t._m(0)])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"legend"},[e("div",{staticClass:"item"},[e("span",{staticClass:"rect",staticStyle:{background:"#1cd700"}}),e("span",[t._v("运行")])]),e("div",{staticClass:"item"},[e("span",{staticClass:"rect",staticStyle:{background:"#c2c309"}}),e("span",[t._v("待机")])]),e("div",{staticClass:"item"},[e("span",{staticClass:"rect",staticStyle:{background:"#c2c309"}}),e("span",[t._v("调试")])]),e("div",{staticClass:"item"},[e("span",{staticClass:"rect",staticStyle:{background:"#bd0004"}}),e("span",[t._v("报警")])]),e("div",{staticClass:"item"},[e("span",{staticClass:"rect",staticStyle:{background:"#7d8290"}}),e("span",[t._v("离线")])])])}],l=a(54326),n=a(10989),d=a(92635),h=a(47560),c=a(92274),m=a(65653),u=a(11630),p=a(8132);const g=300,f=[{name:"QL02-1",x:0,y:g,width:125,height:112,image:a(92950),model:"7",clickable:!0},{name:"QL02-2",x:150,y:g-50,width:125,height:112,image:a(92950),model:"7",clickable:!0},{name:"QL02-3",x:300,y:g-70,width:118,height:85,image:a(89547),model:"9",clickable:!0},{name:"QL02-4",x:450,y:g-160,width:185,height:111,image:a(18871),model:"1",clickable:!0},{name:"QL02-5",x:650,y:g-220,width:167,height:95,image:a(42053),model:"6",clickable:!0}],y=300,b=[{name:"QL03-1",x:0,y:y,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL03-2",x:180,y:y-65,width:167,height:93,image:a(39311),model:"7",clickable:!0},{name:"QL03-6",x:370,y:y-120,width:118,height:85,image:a(89547),model:"9",clickable:!0},{name:"QL03-8",x:495,y:y-165,width:118,height:85,image:a(89547),model:"9",clickable:!0},{name:"QL03-10",x:640,y:y-225,width:118,height:85,image:a(89547),model:"9",clickable:!0},{name:"QL03-11",x:780,y:y-300,width:167,height:95,image:a(42053),model:"6",clickable:!0},{name:"QL03-4",x:-130,y:y-100,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL03-3",x:50,y:y-165,width:167,height:93,image:a(39311),model:"7",clickable:!0},{name:"QL03-5",x:240,y:y-220,width:118,height:85,image:a(89547),model:"9",clickable:!0},{name:"QL03-7",x:365,y:y-295,width:84,height:112,image:a(21791),model:"2",clickable:!0},{name:"QL03-9",x:480,y:y-335,width:157,height:109,image:a(53405),model:"5",clickable:!0},{name:"QL03-12",x:660,y:y-380,width:98,height:90,image:a(93836),model:"3",clickable:!0}],w=300,x=[{name:"QL04-1",x:0,y:w,width:185,height:111,image:a(18871),model:"1",clickable:!0},{name:"QL04-2",x:190,y:w-60,width:167,height:95,image:a(42053),model:"6",clickable:!0},{name:"QL04-3",x:370,y:w-140,width:185,height:111,image:a(18871),model:"1",clickable:!0},{name:"QL04-4",x:600,y:w-220,width:83,height:111,image:a(13470),model:"8",clickable:!0},{name:"QL04-5",x:740,y:w-270,width:185,height:111,image:a(18871),model:"1",clickable:!0}],v=300,C=[{name:"QL05-4",x:-130,y:v-100,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-6",x:30,y:v-160,width:98,height:90,image:a(93836),model:"3",clickable:!0},{name:"QL05-7",x:190,y:v-220,width:98,height:90,image:a(93836),model:"3",clickable:!0},{name:"QL05-8",x:330,y:v-285,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-9",x:500,y:v-345,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-10",x:660,y:v-430,width:185,height:111,image:a(18871),model:"1",clickable:!0},{name:"QL05-11",x:870,y:v-505,width:185,height:111,image:a(18871),model:"1",clickable:!0},{name:"QL05-12",x:1090,y:v-570,width:83,height:111,image:a(13470),model:"8",clickable:!0},{name:"QL05-13",x:1190,y:v-605,width:83,height:111,image:a(13470),model:"8",clickable:!0},{name:"QL05-1",x:0,y:v,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-2",x:160,y:v-60,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-3",x:320,y:v-115,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-5",x:470,y:v-170,width:129,height:90,image:a(65447),model:"10",clickable:!0},{name:"QL05-15",x:1200,y:v-460,width:83,height:111,image:a(13470),model:"8",clickable:!0},{name:"QL05-14",x:1320,y:v-500,width:83,height:111,image:a(13470),model:"8",clickable:!0}],D=300,S=[{name:"QL06-2",x:0,y:D,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-3",x:70,y:D-180,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-1",x:-130,y:D-100,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-4",x:200,y:D-80,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-5",x:280,y:D-260,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-6",x:490,y:D-340,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-7",x:720,y:D-420,width:167,height:93,image:a(39311),model:"4",clickable:!0},{name:"QL06-8",x:1060,y:D-410,width:167,height:93,image:a(39311),model:"4",clickable:!0}],k=["#949494","#fcdd10","#65ef62","#e8512e","#2ebce7"];var L={props:{deviceList:{type:Array,default:()=>[]}},data(){return{zr:null,cw:0,ch:0,root:null,devices2:f,devices3:b,devices4:x,devices5:C,devices6:S,dialog:null,scale:1}},beforeDestroy(){l.B9(this.zr)},mounted(){this.zr=l.S1(this.$refs.canvas),this.cw=this.zr.getWidth(),this.ch=this.zr.getHeight()},methods:{draw(){console.log("draw");const t=new n.Z(0,0,1,0,[{offset:0,color:"rgba(18, 32, 69,0.3)"},{offset:.5,color:"rgba(18, 32, 69,0.3)"},{offset:1,color:"rgba(18, 32, 69,0.3)"}]),e=new d.Z({shape:{x:0,y:0,width:this.cw,height:this.ch},style:{fill:t}});this.zr.add(e),this.root=new h.Z({x:100,y:120,style:{fill:"#000"},draggable:!0}),this.root.attr({scaleX:.45,scaleY:.45}),this.zr.add(this.root),this.createGroup2(),this.createGroup3(),this.createGroup4(),this.createGroup5(),this.createGroup6();const a=this.createInfo("分组1","1000",100,60,200,100);a.attr({scaleX:.8,scaleY:.8});const i=this.createInfo("分组2","2000",700,250,200,100);i.attr({scaleX:.8,scaleY:.8})},createInfo(t,e,a,i,s,r){const o=new h.Z({x:a,y:i}),l=new n.Z(0,0,0,1,[{offset:0,color:"rgba(112, 229, 255,0.6)"},{offset:.3,color:"rgba(112, 229, 255,0.4)"},{offset:.8,color:"rgba(112, 229, 255,0.4)"},{offset:1,color:"rgba(112, 229, 255,0.6)"}]),m=new d.Z({x:0,y:0,shape:{width:s,height:r},style:{fill:l,stroke:"rgba(112, 229, 255,0.7)"}});o.add(m);const u=new c.ZP({x:0,y:0,style:{x:s/2,y:0,text:`{a|${t}}\n产量：{b|${e}}pcs`,lineHeight:40,width:s,height:r,fill:"#fff",fontSize:20,align:"center",rich:{a:{fill:"#10e2e7",fontSize:22},b:{fill:"#10e7e7",fontSize:24},c:{}}}});return o.add(u),o},createLayer(t,e,a,i,s,r=[],o="#00C0FF"){const l=5,n=new h.Z({x:t,y:e,rotation:Math.PI/9,skewX:Math.PI/5}),c=new d.Z({shape:{x:0,y:0,width:a,height:i},style:{fill:"rgba(42, 174, 255,0.1)"}});n.add(c);const u=new m.Z({shape:{points:[[s,0],[0,0],[0,s]]},style:{stroke:o,lineWidth:l}});n.add(u);const p=new m.Z({shape:{points:[[0,i-s],[0,i],[s,i]]},style:{stroke:o,lineWidth:l}});n.add(p);const g=new m.Z({shape:{points:[[a-s,0],[a,0],[a,s]]},style:{stroke:o,lineWidth:l}});n.add(g);const f=new m.Z({shape:{points:[[a,i-s],[a,i],[a-s,i]]},style:{stroke:o,lineWidth:l}});return n.add(f),0!==r.length&&r.forEach((t=>{const e=new d.Z({shape:{x:t.x,y:t.y,width:t.w,height:t.h},style:{fill:"rgba(255, 255, 0,0.15)"}});n.add(e)})),n},createGroup2(){const t=new h.Z({x:1020,y:750}),e=this.createLayer(-60,380,950,100,40);t.add(e),this.root.add(t),this.devices2.forEach((e=>{const a=new u.ZP({style:{...e,image:this.getImage(e)}});t.add(a),t.add(this.createDialog(e.x,e.y,e))})),t.add(this.createTitle(-200,420,"二车间"))},createGroup3(){const t=new h.Z({x:810,y:600}),e=this.createLayer(-220,260,1080,240,40);t.add(e),this.root.add(t),this.devices3.forEach((e=>{const a=new u.ZP({style:{...e,image:this.getImage(e)}});t.add(a),t.add(this.createDialog(e.x,e.y,e))})),t.add(this.createTitle(-240,360,"三车间"))},createGroup4(){const t=new h.Z({x:470,y:350});this.root.add(t);const e=this.createLayer(-60,380,1050,100,40);t.add(e),this.devices4.forEach((e=>{const a=new u.ZP({style:{...e,image:this.getImage(e)}});t.add(a),t.add(this.createDialog(e.x,e.y,e))})),t.add(this.createTitle(-200,420,"四车间"))},createGroup5(){const t=new h.Z({x:340,y:250});this.root.add(t);const e=this.createLayer(-220,260,1580,240,40);t.add(e),this.devices5.forEach((e=>{const a=new u.ZP({style:{...e,image:this.getImage(e)}});t.add(a),t.add(this.createDialog(e.x,e.y,e))})),t.add(this.createTitle(-240,360,"五车间"))},createGroup6(){const t=new h.Z({x:60,y:50});this.root.add(t);const e=this.createLayer(-220,260,1420,240,40);t.add(e),this.devices6.forEach((e=>{const a=new u.ZP({style:{...e,image:this.getImage(e)}});t.add(a),t.add(this.createDialog(e.x,e.y,e))})),t.add(this.createTitle(-240,360,"六车间"))},createTitle(t,e,a){return new c.ZP({x:t,y:e,style:{width:45*a.length,height:40,text:`{t|${a}}`,fill:"#fff",font:"18px Arial",borderRadius:2,borderColor:"#4bdfff",borderWidth:4,backgroundColor:"rgba(0, 0, 0, 0.8)",lineHeight:40,padding:[10,10,10,10],rich:{t:{font:"45px Arial",fill:"#4bdfff",align:"center",lineHeight:45},d:{fill:"#f00"}}}})},createDialog(t,e,a){const i=new h.Z({x:t+(a.width-18*a.name.length)/2,y:e-20}),s=new p.Z({shape:{cx:15,cy:13,r:8},style:{fill:k[a.extra.status],shadowColor:k[a.extra.status],shadowBlur:5}});i.add(s);const r=new c.ZP({x:30,y:0,style:{width:12*a.name.length,height:26,text:`${a&&a.name||""}`,fill:"#fff",font:"18px Arial",borderRadius:2,backgroundColor:"rgba(0, 0, 0, 0.8)",lineHeight:26,padding:[4,4,4,4],rich:{t:{font:"16px Arial",fill:"#4bdfff",align:"center",lineHeight:30},d:{fill:"#f00"}}}});return i.add(r),i},findItemByTag(t,e){for(let a=0;a<t.length;a++)if(e===t[a].devName)return t[a];return null},getImage(t){return t.image}},watch:{deviceList(){this.devices2.forEach((t=>{if(t.name){const e=this.findItemByTag(this.deviceList,t.name);t.extra=e}})),this.devices3.forEach((t=>{if(t.name){const e=this.findItemByTag(this.deviceList,t.name);t.extra=e}})),this.devices4.forEach((t=>{if(t.name){const e=this.findItemByTag(this.deviceList,t.name);t.extra=e}})),this.devices5.forEach((t=>{if(t.name){const e=this.findItemByTag(this.deviceList,t.name);t.extra=e}})),this.devices6.forEach((t=>{if(t.name){const e=this.findItemByTag(this.deviceList,t.name);t.extra=e}})),this.zr.clear(),this.draw()}}},Z=L,A=a(38412),R=(0,A.Z)(Z,r,o,!1,null,"5a51da51",null),z=R.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar-chart"},[t.isDataEmpty?e("h3",[t._v("暂无数据")]):e("div",{staticClass:"chart"})])},F=[],E=a(34297),Q=a(53657),W=a.n(Q),O=a(1925);const I=[["rgba(148, 148, 148,0)","#949494"],["rgba(252, 221, 16,0)","#fcdd10"],["rgba(101, 239, 98,0)","#65ef62"],["rgba(232, 81, 46,0)","#e8512e"],["rgba(46, 188, 231,0)","#2ebce7"]];function T(t){const e={type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:t[0]},{offset:1,color:t[1]}],global:!1};return e}var V={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{textStyle:{color:"#fff"}},grid:{top:"8%",left:"5%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"value",axisLine:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"category",axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},data:[{value:"二车间",textStyle:{color:"#fff",borderColor:"#68d8fa",borderWidth:1,padding:10,backgroundColor:"#458193"}},{value:"三车间",textStyle:{color:"#fff",borderColor:"#68d8fa",borderWidth:1,padding:10,backgroundColor:"#458193"}},{value:"四车间",textStyle:{color:"#fff",borderColor:"#68d8fa",borderWidth:1,padding:10,backgroundColor:"#458193"}},{value:"五车间",textStyle:{color:"#fff",borderColor:"#68d8fa",borderWidth:1,padding:10,backgroundColor:"#458193"}},{value:"六车间",textStyle:{color:"#fff",borderColor:"#68d8fa",borderWidth:1,padding:10,backgroundColor:"#458193"}}]}],series:[{name:"离线",type:"bar",stack:"Ad",barWidth:10,data:[],itemStyle:{color:T(I[0]),barBorderRadius:10}},{name:"待机",type:"bar",stack:"Ad",barWidth:10,data:[],itemStyle:{color:T(I[1]),barBorderRadius:10}},{name:"运行",type:"bar",stack:"Ad",barWidth:10,data:[],itemStyle:{color:T(I[2]),barBorderRadius:10}},{name:"报警",type:"bar",stack:"Ad",barWidth:10,data:[],itemStyle:{color:T(I[3]),barBorderRadius:10}},{name:"调试",type:"bar",stack:"Ad",barWidth:10,data:[],itemStyle:{color:T(I[4]),barBorderRadius:10}}]},P={name:"BarChart",props:{seriesData:{type:Object,default:()=>({})},xAxisData:{type:Array,default:()=>[]},extraOption:{type:Object,default:()=>({})}},data(){return{chart:null}},mounted(){this.chart=E.S1(this.$el),this.updateChartView(),window.addEventListener("resize",this.handleWindowResize)},beforeDestroy(){this.chart.dispose(),this.chart=null,window.removeEventListener("resize",this.handleWindowResize),this.$el.parentNode.removeChild(this.$el)},methods:{assembleData(){return(0,O.merge)({},V,{series:[{data:this.seriesData.offline},{data:this.seriesData.standby},{data:this.seriesData.run},{data:this.seriesData.alarm},{data:this.seriesData.debug}]},this.extraOption)},addChartResizeListener(){const t=W()({strategy:"scroll",callOnAdd:!0});t.listenTo(this.$el,(()=>{this.chart&&this.chart.resize()}))},updateChartView(){if(!this.chart)return;const t=this.assembleData();this.chart.setOption(t)},handleWindowResize(){this.chart&&this.chart.resize()}},computed:{isDataEmpty(){return(0,O.isEmpty)(this.seriesData||this.seriesData.every((t=>!t.value)))}},watch:{seriesData:{deep:!0,handler(){this.updateChartView()}},xAxisData:{deep:!0,handler(){this.updateChartView()}}}},B=P,$=(0,A.Z)(B,_,F,!1,null,"909d9214",null),X=$.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar-chart"},[t.isDataEmpty?e("h3",[t._v("暂无数据")]):e("div",{staticClass:"chart"})])},N=[],G={legend:{icon:"circle",orient:"horizontal",itemGap:40,itemWidth:14,itemHeight:14,textStyle:{fontSize:14,color:"white",fontWeight:400,padding:[4,0,0,0]}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",realtime:!0,startValue:0,endValue:5,height:10,left:0,right:5,bottom:30,show:!1,fillerColor:"#D8DEEE",borderColor:"#D8DEEE",zoomLock:!0,fillerMode:"filler",showDetail:!1,brushSelect:!1,dataBackground:{areaStyle:{color:"#F2F7FF"}}},{type:"inside",startValue:0,endValue:5,show:!0,zoomLock:!0}],grid:{top:"10%",left:"4%",right:"5%",bottom:"5%",containLabel:!0},xAxis:{type:"category",data:[],axisTick:{show:!1},axisLabel:{show:!0,color:"white",interval:0},axisLine:{show:!1}},yAxis:{splitLine:{show:!1},type:"value",nameTextStyle:{color:"white",fontSize:12,fontWeight:800},axisLine:{lineStyle:{lineStyle:{color:"white"}}},axisLabel:{formatter:"{value}",color:"white"}},series:[{name:"日",type:"bar",barWidth:4,stack:"x",label:{show:!0,formatter:"{a|}",color:"#fff",position:"top",distance:-5,backgroundColor:"#FF0000",shadowColor:"#FF0000",shadowBlur:5,padding:2,borderRadius:4,rich:{a:{width:3,height:3,borderRadius:3,lineHeight:3,backgroundColor:"#FF0000"}}},itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"rgb(245, 116, 116)"},{offset:1,color:"rgba(245, 116, 116,0.35)"}]}}},data:[]},{name:"周",type:"bar",barWidth:4,stack:"x",label:{show:!0,formatter:"{a|}",color:"#fff",position:"top",distance:-5,backgroundColor:"#FDFF00",shadowColor:"#FDFF00",shadowBlur:5,padding:2,borderRadius:3,rich:{a:{width:3,height:3,borderRadius:3,lineHeight:3,backgroundColor:"#FDFF00"}}},itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"rgba(253, 255, 0, 1)"},{offset:1,color:"rgba(253, 255, 0, 0.34)"}]}}},data:[]},{name:"月",type:"bar",barWidth:4,stack:"x",label:{show:!0,formatter:"{a|}",color:"#fff",position:"top",distance:-5,backgroundColor:"#1089E7",shadowColor:"#1089E7",shadowBlur:5,padding:2,borderRadius:4,rich:{a:{width:3,height:3,borderRadius:3,lineHeight:3,backgroundColor:"#1089E7"}}},itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"rgb(16, 137, 231)"},{offset:1,color:"rgb(16, 137, 231,0.34)"}]}}},data:[]}]},H={name:"BarChart",props:{seriesData:{type:Object,default:()=>({})},xAxisData:{type:Array,default:()=>[]},extraOption:{type:Object,default:()=>({})}},data(){return{chart:null,distance:5,start:0,end:5,timer:null}},mounted(){this.chart=E.S1(this.$el),this.updateChartView(),window.addEventListener("resize",this.handleWindowResize)},beforeDestroy(){this.timer&&clearInterval(this.timer),this.chart.dispose(),this.chart=null,window.removeEventListener("resize",this.handleWindowResize),this.$el.parentNode.removeChild(this.$el)},methods:{loop(){this.timer=setInterval((()=>{this.end==this.xAxisData.length-1?(this.start=0,this.end=5):(this.start=this.start+1,this.end=this.end+1),this.updateChartView()}),5e3)},assembleData(){return(0,O.merge)({},G,{dataZoom:[{startValue:this.start,endValue:this.end},{startValue:this.start,endValue:this.end}],xAxis:{data:this.xAxisData},series:[{data:this.seriesData.day},{data:this.seriesData.week},{data:this.seriesData.month}]},this.extraOption)},addChartResizeListener(){const t=W()({strategy:"scroll",callOnAdd:!0});t.listenTo(this.$el,(()=>{this.chart&&this.chart.resize()}))},updateChartView(){if(!this.chart)return;const t=this.assembleData();this.chart.setOption(t),this.timer||0==this.xAxisData.length||this.loop()},handleWindowResize(){this.chart&&this.chart.resize()}},computed:{isDataEmpty(){return(0,O.isEmpty)(this.seriesData||this.seriesData.every((t=>!t.value)))}},watch:{seriesData:{deep:!0,handler(){this.updateChartView()}},xAxisData:{deep:!0,handler(){this.updateChartView()}}}},j=H,M=(0,A.Z)(j,Y,N,!1,null,"a110762c",null),q=M.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar-chart"},[t.isDataEmpty?e("h3",[t._v("暂无数据")]):e("div",{staticClass:"chart"})])},K=[],U={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{icon:"circle",orient:"horizontal",itemGap:40,itemWidth:14,itemHeight:14,textStyle:{fontSize:14,color:"white",fontWeight:400,padding:[4,0,0,0]}},color:["#F57474","#ccc016","#1089E7","#7bd42b","#8B78F6"],grid:{top:"10%",left:"4%",right:"5%",bottom:"5%",containLabel:!0},xAxis:{type:"category",data:[],axisTick:{show:!1},axisLabel:{show:!0,color:"white",interval:0},axisLine:{show:!1}},dataZoom:[{type:"slider",realtime:!0,startValue:0,endValue:5,height:10,left:0,right:5,bottom:30,show:!1,fillerColor:"#D8DEEE",borderColor:"#D8DEEE",zoomLock:!0,fillerMode:"filler",showDetail:!1,brushSelect:!1,dataBackground:{areaStyle:{color:"#F2F7FF"}}},{type:"inside",startValue:0,endValue:5,show:!0,zoomLock:!0}],yAxis:{splitLine:{show:!1},type:"value",nameTextStyle:{color:"white",fontSize:12,fontWeight:800},axisLine:{lineStyle:{lineStyle:{color:"white"}}},axisLabel:{formatter:"{value}",color:"white"}},series:[{name:"日",type:"bar",stack:"total",label:{show:!1,color:"#FFFFFF",formatter:function(t){}},barWidth:10,emphasis:{focus:"series"},data:[]},{name:"周",type:"bar",stack:"total",label:{show:!1,color:"#FFFFFF",formatter:"{a}"},emphasis:{focus:"series"},data:[]},{name:"月",type:"bar",stack:"total",label:{show:!1,color:"#FFFFFF",formatter:"{a}"},emphasis:{focus:"series"},data:[]}]},tt={name:"BarChart",props:{seriesData:{type:Object,default:()=>({day:[],week:[],month:[]})},xAxisData:{type:Array,default:()=>[]},extraOption:{type:Object,default:()=>({})}},data(){return{chart:null,distance:5,start:0,end:5,timer:null}},mounted(){this.chart=E.S1(this.$el),this.updateChartView(),window.addEventListener("resize",this.handleWindowResize)},beforeDestroy(){this.chart.dispose(),this.chart=null,this.timer&&clearInterval(this.timer),window.removeEventListener("resize",this.handleWindowResize),this.$el.parentNode.removeChild(this.$el)},methods:{loop(){this.timer=setInterval((()=>{this.end==this.xAxisData.length-1?(this.start=0,this.end=5):(this.start=this.start+1,this.end=this.end+1),this.updateChartView()}),5e3)},assembleData(){return(0,O.merge)({},U,{dataZoom:[{startValue:this.start,endValue:this.end},{startValue:this.start,endValue:this.end}],xAxis:{data:this.xAxisData},series:[{data:this.seriesData.day},{data:this.seriesData.week},{data:this.seriesData.month}]},this.extraOption)},addChartResizeListener(){const t=W()({strategy:"scroll",callOnAdd:!0});t.listenTo(this.$el,(()=>{this.chart&&this.chart.resize()}))},updateChartView(){if(!this.chart)return;const t=this.assembleData();this.chart.setOption(t),this.timer||0==this.xAxisData.length||this.loop()},handleWindowResize(){this.chart&&this.chart.resize()}},computed:{isDataEmpty(){return(0,O.isEmpty)(this.seriesData||this.seriesData.every((t=>!t.value)))}},watch:{seriesData:{deep:!0,handler(){this.updateChartView()}},xAxisData:{deep:!0,handler(){this.updateChartView()}}}},et=tt,at=(0,A.Z)(et,J,K,!1,null,"20c6a53f",null),it=at.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar-chart"},[t.isDataEmpty?e("h3",[t._v("暂无数据")]):e("div",{staticClass:"chart"})])},rt=[];const ot=["#507AFF","#51D9A2","#FFC371","#797AFF"];var lt={grid:{},legend:{show:!0,orient:"horizontal",bottom:"0%",itemGap:30,textStyle:{color:"#ffffff",fontSize:12}},series:[{itemStyle:{normal:{color:function(t){return ot[t.dataIndex]}}},type:"pie",radius:["20%","50%"],center:["50%","50%"],label:{show:!0,formatter:t=>`{C|${t.data.name}}{B|\n${t.data.value}%}`,rich:{B:{align:"left",fontSize:14,color:"#fff",padding:[5,0,0,0]},C:{align:"left",color:"#fff",fontSize:14,padding:[5,0,0,0]}},edgeDistance:"50%"},labelLine:{normal:{show:!0,length:10,length2:25,lineStyle:{type:"dashed"},minTurnAngle:120}},data:[]},{name:"外边框",type:"pie",tooltip:{show:!1},clockWise:!1,hoverAnimation:!1,center:["50%","50%"],radius:["52%","52%"],label:{normal:{show:!1}},data:[{value:1,name:"",itemStyle:{normal:{borderWidth:20,borderColor:"rgba(94, 183, 249,  0.13)"}}}]}]},nt={name:"BarChart",props:{seriesData:{type:Array,default:()=>[]},extraOption:{type:Object,default:()=>({})}},data(){return{chart:null}},mounted(){this.chart=E.S1(this.$el),this.updateChartView(),window.addEventListener("resize",this.handleWindowResize)},beforeDestroy(){this.chart.dispose(),this.chart=null,window.removeEventListener("resize",this.handleWindowResize),this.$el.parentNode.removeChild(this.$el)},methods:{assembleData(){return(0,O.merge)({},lt,{series:[{data:this.seriesData}]},this.extraOption)},addChartResizeListener(){const t=W()({strategy:"scroll",callOnAdd:!0});t.listenTo(this.$el,(()=>{this.chart&&this.chart.resize()}))},updateChartView(){if(!this.chart)return;const t=this.assembleData();this.chart.setOption(t)},handleWindowResize(){this.chart&&this.chart.resize()}},computed:{isDataEmpty(){return(0,O.isEmpty)(this.seriesData||this.seriesData.every((t=>!t.value)))}},watch:{seriesData:{deep:!0,handler(){this.updateChartView()}}}},dt=nt,ht=(0,A.Z)(dt,st,rt,!1,null,"231ffeba",null),ct=ht.exports,mt=a(22451),ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"number-card"},t._l(t.numberArray,(function(a,i){return e("div",{key:i,staticClass:"number-wrapper",style:{color:t.color}},[t._v(" "+t._s(a)+" ")])})),0)},pt=[],gt={number2array(t){if(0===t)return[0];let e=t;const a=[];while(0!==e)a.unshift(e%10),e=Math.floor(e/10);return a}},ft={props:{value:{type:[Number,String],default:0},len:{type:Number,default:6},color:{type:String,default:"#fff"}},data(){return{}},computed:{numberArray(){const t=gt.number2array(this.value);while(t.length<this.len)t.unshift(0);return t}}},yt=ft,bt=(0,A.Z)(yt,ut,pt,!1,null,"26789074",null),wt=bt.exports,xt=a(2389),vt=a(74336);class Ct{constructor(t){(0,xt.Z)(this,"timer",null),(0,xt.Z)(this,"deviceState",[]),(0,xt.Z)(this,"runState",[]),(0,xt.Z)(this,"openRate",[]),(0,xt.Z)(this,"runRate",[]),(0,xt.Z)(this,"workProgress",[]),(0,xt.Z)(this,"orderList",[]),(0,xt.Z)(this,"orderSummary",[]),(0,xt.Z)(this,"andonInfo",[]),(0,xt.Z)(this,"andonState",{}),(0,xt.Z)(this,"dataCenter",null),this.refreshTime=parseInt(window.config.refreshDataTime),this.dataCenter=t}loadData(){this.loadDeviceState(),this.loadRunState(),this.loadOpenRate(),this.loadRunRate(),this.loadWorkProgress(),this.loadOrderList(),this.loadOrderSummary(),this.loadAndonInfo(),this.loadAndonState()}startLoop(){this.timer=setInterval((()=>{this.loadData()}),this.refreshTime)}stopLoop(){this.timer&&clearInterval(this.timer)}loadDeviceState(){vt.Z.summaryDeviceState().then((t=>{this.deviceState=t,this.dataCenter.loadDeviceState(t)}))}loadRunState(){vt.Z.summaryRunState().then((t=>{this.runRate=t,this.dataCenter.loadRunState(t)}))}loadOpenRate(){vt.Z.summaryStartupRate().then((t=>{this.openRate=t,this.dataCenter.loadOpenRate(t)}))}loadRunRate(){vt.Z.summaryRunRate().then((t=>{this.runRate=t,this.dataCenter.loadRunRate(t)}))}loadWorkProgress(){vt.Z.summaryWorkProgress().then((t=>{this.workProgress=t,this.dataCenter.loadWorkProgress(t)}))}loadOrderList(){vt.Z.summaryOrderList().then((t=>{this.orderList=t,this.dataCenter.loadOrderList(t)}))}loadOrderSummary(){vt.Z.summaryOrderRate().then((t=>{this.orderSummary=t,this.dataCenter.loadOrderSummary(t)}))}loadAndonInfo(){vt.Z.summaryAndonInfo().then((t=>{this.andonInfo=t,this.dataCenter.loadAndonInfo(t)}))}loadAndonState(){vt.Z.summaryAndonState().then((t=>{this.andonState=t,this.dataCenter.loadAndonState(t)}))}}class Dt{constructor(){(0,xt.Z)(this,"currentPage",0),(0,xt.Z)(this,"singlePage",10),(0,xt.Z)(this,"pageNum",1),(0,xt.Z)(this,"singleTime",parseInt(window.config.singleDataTime)),(0,xt.Z)(this,"timer",null),(0,xt.Z)(this,"deviceState",[]),(0,xt.Z)(this,"runStateXData",[]),(0,xt.Z)(this,"runStateYData",{alarm:[],debug:[],offline:[],run:[],standby:[]}),(0,xt.Z)(this,"openRateXData",[]),(0,xt.Z)(this,"openRateYData",{}),(0,xt.Z)(this,"runRateXData",[]),(0,xt.Z)(this,"runRateYData",{day:[],month:[],week:[]}),(0,xt.Z)(this,"pieData",[]),(0,xt.Z)(this,"orderList",[]),(0,xt.Z)(this,"orderSummary",[]),(0,xt.Z)(this,"andonInfo",[]),(0,xt.Z)(this,"andonState",{}),this.cache=new Ct(this)}init(){this.cache.loadData(),this.cache.startLoop()}startTime(){this.pageNum>1&&(this.timer=setInterval((()=>{this.currentPage=(this.currentPage+1)%this.pageNum,this.dealPage()}),this.singleTime))}stopTime(){this.timer&&(clearInterval(this.timer),this.timer=null),this.cache.stopLoop()}dealPage(){const t=this.currentPage*this.singlePage,e=(this.currentPage+1)*this.singlePage;this.gantData=this.originGantData.slice(t,e).reduce(((t,e)=>t.concat(e))),this.gantXData=this.originGantX.slice(t,e),this.cutSpeedData=this.originCutSpeed.slice(t,e),this.cutSpeedX=this.originCutSpeedX.slice(t,e),this.cutXData=this.originCutX.slice(t,e),this.cutData=this.originCutData.slice(t,e),this.speedXData=this.originSeedX.slice(t,e),this.speedData=this.originSeedData.slice(t,e),this.openTimeData=this.originOpenTime.slice(t,e)}loadDeviceState(t){this.deviceState=t}loadRunState(t){this.runState=t,this.runStateXData=t.xAxis,this.runStateYData.alarm=t.yAxis.map((t=>t.alarm)),this.runStateYData.offline=t.yAxis.map((t=>t.offline)),this.runStateYData.run=t.yAxis.map((t=>t.run)),this.runStateYData.debug=t.yAxis.map((t=>t.debug)),this.runStateYData.standby=t.yAxis.map((t=>t.standby))}loadRunRate(t){this.runRateXData=t.xAxis,this.runRateYData.day=t.yAxis.map((t=>t.day)),this.runRateYData.week=t.yAxis.map((t=>t.week)),this.runRateYData.month=t.yAxis.map((t=>t.month))}loadOpenRate(t){this.openRateXData=t.xAxis,this.openRateYData.day=t.yAxis.map((t=>t.day)),this.openRateYData.week=t.yAxis.map((t=>t.week)),this.openRateYData.month=t.yAxis.map((t=>t.month))}loadWorkProgress(t){this.pieData=[{name:"进行中",value:t.processing},{name:"已完成",value:t.completed},{name:"未开始",value:t.unprocessed}]}loadOrderList(t){this.orderList=t}loadOrderSummary(t){this.orderSummary=t}loadAndonInfo(t){this.andonInfo=t}loadAndonState(t){this.andonState=t}}var St={components:{DeviceLayout:z,Chart1:X,Chart2:q,Chart3:it,Chart4:ct,MessageList:mt.Z,NumberCard:wt},data(){return{dataCenter:new Dt,andonColumns:[{label:"发起设备",prop:"devName"},{label:"发起时间",prop:"repairTime"},{label:"呼叫内容",prop:"safeLamp",style(t){return"需要维修"==t.safeLamp?{color:"#f00"}:"需要工量具"==t.safeLamp?{color:"#ff0"}:{color:"#1089E7"}}}],orderColumns:[{label:"流水号",prop:"serialNo",headStyle(){return{width:"200px"}},style(){return{width:"200px"}}},{label:"工作令",prop:"workOrder",headStyle(){return{width:"180px"}},style(){return{width:"180px"}}},{label:"图号",prop:"drawingNo",headStyle(){return{width:"180px"}},style(){return{width:"180px"}}},{label:"工艺序号",prop:"proNo"},{label:"工序名称",prop:"proName"},{label:"加工人员",prop:"processPerson"},{label:"加工设备",prop:"processDev"},{label:"加工进度",prop:"progress"},{label:"加工时间",prop:"runTime"},{label:"开工时间",prop:"startTime",headStyle(){return{width:"300px"}},style(){return{width:"300px"}}}]}},created(){this.dataCenter.init(),setTimeout((()=>{location.reload()}),window.config.reloadTime)}},kt=St,Lt=(0,A.Z)(kt,i,s,!1,null,"0efb79c0",null),Zt=Lt.exports},50659:function(t,e,a){t.exports=a.p+"img/item-icon-blue.936c1506.png"},40816:function(t,e,a){t.exports=a.p+"img/item-icon-red.4934ef2b.png"},50521:function(t,e,a){t.exports=a.p+"img/item-icon-yellow.62a05345.png"},26053:function(t,e,a){t.exports=a.p+"img/1.1d7b3c3c.png"},90690:function(t,e,a){t.exports=a.p+"img/2.a2e529f3.png"},90156:function(t,e,a){t.exports=a.p+"img/3.2c22ba11.png"},47818:function(t,e,a){t.exports=a.p+"img/4.daaf4e6c.png"},36331:function(t,e,a){t.exports=a.p+"img/5.03a0f9de.png"},96115:function(t,e,a){t.exports=a.p+"img/7.7abd0c5e.png"},18871:function(t,e,a){t.exports=a.p+"img/1.5cb22e54.png"},65447:function(t,e,a){t.exports=a.p+"img/10.aa6e65c2.png"},21791:function(t,e,a){t.exports=a.p+"img/2.fb8b027f.png"},93836:function(t,e,a){t.exports=a.p+"img/3.e25c0b2c.png"},39311:function(t,e,a){t.exports=a.p+"img/4.f604933f.png"},53405:function(t,e,a){t.exports=a.p+"img/5.eef788a1.png"},42053:function(t,e,a){t.exports=a.p+"img/6.3f24c6ea.png"},92950:function(t,e,a){t.exports=a.p+"img/7.d2edb551.png"},13470:function(t,e,a){t.exports=a.p+"img/8.769697d8.png"},89547:function(t,e,a){t.exports=a.p+"img/9.a50cb051.png"}}]);